<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨ 图片格式转换器 - 二次元工坊</title>
    <link rel="icon" type="image/png" href="ComfyUI_00174_.png">
    <link rel="stylesheet" href="styles.css">
    <!-- 引入JSZip库用于批量打包下载 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>🎨 图片格式转换器 ✨</h1>
        <p class="subtitle">批量图片转换工具 ♡ 支持PNG/JPEG格式互转</p>
        
        <div class="upload-area" id="uploadArea">
            <div class="upload-content">
                <svg class="upload-icon" viewBox="0 0 24 24" width="64" height="64">
                    <path fill="currentColor" d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                </svg>
                <p>📸 点击或拖拽图片到这里</p>
                <p class="upload-hint">✨ 支持JPG、PNG、GIF、BMP、WebP等格式</p>
                <p class="upload-hint">💫 可同时选择多个文件进行批量转换</p>
                <input type="file" id="fileInput" accept="image/*" multiple>
            </div>
        </div>

        <!-- 文件列表预览区域 -->
        <div class="file-list-area" id="fileListArea" style="display: none;">
            <h3>📁 已选择的文件 (<span id="fileCount">0</span>)</h3>
            <div class="file-list" id="fileList"></div>
            <div class="file-actions">
                <button id="clearAllBtn" class="clear-btn">🗑️ 清空所有</button>
                <button id="addMoreBtn" class="add-more-btn">➕ 添加更多</button>
            </div>
        </div>

        <div class="conversion-options" id="conversionOptions" style="display: none;">
            <h3>⚙️ 转换设置</h3>
            <div class="format-selector">
                <label>
                    <input type="radio" name="format" value="png" checked>
                    <span class="format-option">🖼️ PNG (无损压缩)</span>
                </label>
                <label>
                    <input type="radio" name="format" value="jpeg">
                    <span class="format-option">📷 JPEG (高压缩)</span>
                </label>
            </div>
            
            <div class="quality-selector" id="qualitySelector" style="display: none;">
                <label for="quality">🎚️ JPEG质量 (<span id="qualityValue">90</span>%):</label>
                <input type="range" id="quality" min="10" max="100" value="90">
            </div>

            <button id="convertBtn" class="convert-btn">🚀 开始批量转换</button>
        </div>

        <div class="results-area" id="resultsArea" style="display: none;">
            <div class="results-header">
                <h3>🎉 转换完成</h3>
                <button id="downloadAllBtn" class="download-all-btn" style="display: none;">批量下载所有文件</button>
            </div>
            <div id="resultsList" class="results-list"></div>
        </div>

        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
            <span class="progress-text" id="progressText">处理中...</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>